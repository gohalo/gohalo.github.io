<!doctype html><html lang=en-us><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="ie=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><title>npm 使用详解 | GoHalo</title><link rel=apple-touch-icon sizes=180x180 href=https://gohalo.github.io/favicon/apple-touch-icon.png><link rel=icon href=https://gohalo.github.io/favicon/favicon.ico sizes=any><link rel=icon type=image/png sizes=32x32 href=https://gohalo.github.io/favicon/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=https://gohalo.github.io/favicon/favicon-16x16.png><link rel=manifest crossorigin=use-credentials href=https://gohalo.github.io/favicon/site.webmanifest><meta name=robots content="index, follow"><meta name=googlebot content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1"><meta name=bingbot content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1"><meta name=google-site-verification content="p7jJ5d3kF9yxRhpIo5GgHXAZ1ATKVyZhV2kf6mEGOv0"><meta name=description content="简单介绍前端开发过程中最常用的包管理工具。
"><link rel=stylesheet href=https://gohalo.github.io/font-awesome/css/font-awesome.min.css><link rel=stylesheet href=/css/syntax.min.c70103877c799b924f50023b6b01eca010d7e2808885a74f9ea662cc47379ae1.css integrity="sha256-xwEDh3x5m5JPUAI7awHsoBDX4oCIhadPnqZizEc3muE=" crossorigin=anonymous><link rel=stylesheet href=/css/main.min.c4814ac9dc5fab259f313a787ded4f8e.css integrity="md5-xIFKydxfqyWfMTp4fe1Pjg==" crossorigin=anonymous><style type=text/css>.main p{text-indent:2em}.main li p{text-indent:0}</style><noscript><style>img.lazyload{display:none}</style></noscript></head><body><div class=sticky-top><div class=header-bar></div><nav class="navbar navbar-expand-lg navbar-light bg-light"><div class="container-xxl flex-wrap flex-lg-nowrap" aria-label="Main navigation"><a class="navbar-brand order-0" href=/cn aria-label=GoHalo>GoHalo</a>
<button class=navbar-toggler type=button data-bs-toggle=collapse data-bs-target=#navbarSupportedContent aria-controls=navbarSupportedContent aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse" id=navbarSupportedContent><ul class="navbar-nav me-auto mb-2 mb-lg-0"><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-bs-toggle=dropdown aria-expanded=false>项目</a><ul class=dropdown-menu aria-labelledby=navbarDropdown><li><a class=dropdown-item href=/cn/project/bastion/>Bastion</a></li><li><a class="dropdown-item disabled" href=/cn/project/bootserver/>BootServer</a></li></ul></li><li class=nav-item><a class=nav-link aria-current=page href=/cn/blog/>博客</a></li><li class=nav-item><a class=nav-link aria-current=page href=/cn/blog/archives/>归档</a></li><li class=nav-item><a class=nav-link aria-current=page href=/cn/blog/tags/>标签</a></li><li class=nav-item><a class=nav-link aria-current=page href=/cn/slide/>幻灯片</a></li><li class=nav-item><a class=nav-link aria-current=page href=/cn/docs/>文档</a></li></ul><hr class="text-black-50 my-4 d-lg-none"><div class=dropdown><button class="btn dropdown-toggle" id=header-languages data-bs-toggle=dropdown aria-expanded=false data-bs-display=static>
中文</button><ul class="dropdown-menu dropdown-menu-lg-end me-lg-2 shadow rounded border-0" aria-labelledby=header-languages><li><a class=dropdown-item rel=alternate href=https://gohalo.github.io/en hreflang=en lang=en>English</a></li></ul></div><ul class="nav flex-column flex-lg-row"><li class=nav-item><a class="nav-link social-link" href=/cn/about><i class="fa fa-user" aria-hidden=true></i></a></li><li class=nav-item><a class="nav-link social-link" href=https://github.com/gohalo title=GitHub><i class="fa fa-github-alt" aria-hidden=true></i></a></li><li class=nav-item><button id=mode class="btn nav-link social-link" type=button aria-label="Toggle user interface mode">
<span class=toggle-dark><i class="fa fa-star" aria-hidden=true></i></span>
<span class=toggle-light><i class="fa fa-cog" aria-hidden=true></i></span></button></li></ul></div></div></nav></div><div class="main container-xxl" role=document><div class="blog row"><div class="col-md-12 col-xl-9 mt-4"><div class=header><h1>npm 使用详解</h1><div class="meta mb-3"><i class="fa fa-calendar" aria-hidden=true></i>
<span class=mx-2>2019-12-05</span>
<i class="fa fa-tags" aria-hidden=true></i>
<a class=text-body href=https://gohalo.github.io/cn/tags/web/ role=button>web</a></div></div><hr><div class=content><p>简单介绍前端开发过程中最常用的包管理工具。</p><a class=anchor id=npm></a><h1>NPM <a href=#npm aria-hidden=true>#</a></h1><p>NPM 是 Node 的模块管理和发布工具，类似于 Python 的 <code>setuptools</code>，一些常见工具，如 grunt、bower 等都是通过 NPM 发布的，默认包含在 NodeJS 的安装包中，另外，在 <code>v5.2.0</code> 版本中引入了 <code>npx</code> 命令，所以这里直接安装 NodeJS 包。</p><p>详细可以查看官网 <a href=https://www.npmjs.com/>www.npmjs.com</a>，也可以从 <a href=https://npm.taobao.org/mirrors/npm/>npm.taobao.org</a> 上下载最新安装包，直接下载二进制安装包解压即可。</p><a class=anchor id=安装配置></a><h2>安装配置 <a href=#%e5%ae%89%e8%a3%85%e9%85%8d%e7%bd%ae aria-hidden=true>#</a></h2><p>使用默认的镜像源时，可能会导致不稳定，可以通过如下两种方式指定源，如下是淘宝的。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>----- 1. 临时指定镜像源
</span></span><span class=line><span class=cl>$ npm install --registry http://registry.npm.taobao.org express
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>----- 2. 永久设置，并查看是否已经修改
</span></span><span class=line><span class=cl>$ npm config set registry http://registry.npm.taobao.org
</span></span><span class=line><span class=cl>$ npm config get registry
</span></span></code></pre></div><p>NPM 安装分为本地安装和全局安装两种，区别在于是否使用 <code>-g</code> 参数。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>$ npm info grunt-cli              ← 查看版本、依赖等信息
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl># npm install -g grunt-cli        ← 全局安装客户端
</span></span><span class=line><span class=cl>$ npm install grunt               ← 安装/更新本项目的目录下
</span></span><span class=line><span class=cl>$ npm install grunt@1.2.3         ← 安装指定版本
</span></span><span class=line><span class=cl>$ npm install grunt --save        ← 安装本项目的目录下，同时保存在package文件中
</span></span><span class=line><span class=cl>$ npm install grunt --save-dev    ← 安装本项目的目录下，同时保存在package文件中
</span></span><span class=line><span class=cl># npm uninstall -g &lt;package&gt;      ← 删除全局包
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>$ npm list grunt                  ← 查看grunt版本信息，也可以使用 ls
</span></span><span class=line><span class=cl>$ npm list --depth=0              ← 仅查看本地直接安装包
</span></span><span class=line><span class=cl>$ npm list --depth=0 -global      ← 仅查看全局直接依赖
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>$ npm config set prefix &#34;PATH&#34;    ← 设置全局路径
</span></span><span class=line><span class=cl>$ npm config get prefix           ← 获取当前设置的目录，也就是包的安装路径
</span></span></code></pre></div><p>全局会安装到 <code>/usr/lib/node_modules</code> 目录下，本地则会安装到 <code>node_modules</code> 目录下，而一些二进制文件，例如 <code>lite-server</code> 包，通常同时会在 <code>/usr/bin</code> 目录下安装一个二进制文件。</p><p>不同 OS 发行版本的全局安装路径会有所区别，可以通过 <code>npm config ls</code> 或者 <code>npm config get prefix</code> 命令查看，有些包 (例如 <code>typescript</code>) 会包含可执行文件，就需要在 <code>PATH</code> 环境变量中添加对应 <code>bin</code> 路径。</p><a class=anchor id=packagejson></a><h1>package.json <a href=#packagejson aria-hidden=true>#</a></h1><p>包的定义和 NPM 都围绕着 <code>package.json</code> 文件做文章，用于存放模块的名称、版本、作者、模块入口、依赖项等信息，可以通过 <code>npm help json</code> 查看帮助文档，详细可查看 <a href=https://docs.npmjs.com/files/package.json>docs.npmjs.com</a> 。</p><p>可以通过 <code>npm init</code> 交互式初始化项目，会生成一个 <code>package.json</code> 文件，一个 node package 有两种依赖，分别是：A) dependencies，是正常运行该包时所需要的依赖项；B) devDependencies，开发的时候需要的依赖项，像一些进行单元测试之类的包。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>{
</span></span><span class=line><span class=cl>    &#34;name&#34;: &#34;foobar-demo&#34;,   # 模块名称
</span></span><span class=line><span class=cl>    &#34;version&#34;: &#34;1.0.0&#34;,      # 版本号，通常是Major.Minor.Patch
</span></span><span class=line><span class=cl>    &#34;description&#34;: &#34;Hello World&#34;,
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    &#34;scripts&#34;: {
</span></span><span class=line><span class=cl>        &#34;product&#34;: &#34;webpack&#34;,
</span></span><span class=line><span class=cl>        &#34;dev&#34;: &#34;webpack&#34;
</span></span><span class=line><span class=cl>        &#34;start&#34;: &#34;exec-bin ls /&#34;  # 执行命令
</span></span><span class=line><span class=cl>    },
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    &#34;dependencies&#34;: {
</span></span><span class=line><span class=cl>        &#34;jquery&#34;: &#34;^3.1.0&#34;
</span></span><span class=line><span class=cl>    },
</span></span><span class=line><span class=cl>    &#34;devDependencies&#34;: {
</span></span><span class=line><span class=cl>        &#34;clean-webpack-plugin&#34;: &#34;^0.1.10&#34;,
</span></span><span class=line><span class=cl>        &#34;copy-webpack-plugin&#34;: &#34;^3.0.1&#34;,
</span></span><span class=line><span class=cl>        &#34;css-loader&#34;: &#34;^0.23.1&#34;,
</span></span><span class=line><span class=cl>        &#34;extract-text-webpack-plugin&#34;: &#34;^1.0.1&#34;,
</span></span><span class=line><span class=cl>        &#34;less&#34;: &#34;^2.7.1&#34;,
</span></span><span class=line><span class=cl>        &#34;less-loader&#34;: &#34;^2.2.3&#34;,
</span></span><span class=line><span class=cl>        &#34;style-loader&#34;: &#34;^0.13.1&#34;,
</span></span><span class=line><span class=cl>        &#34;webpack&#34;: &#34;^1.13.1&#34;,
</span></span><span class=line><span class=cl>        &#34;webpack-merge&#34;: &#34;^0.14.1&#34;
</span></span><span class=line><span class=cl>    }
</span></span><span class=line><span class=cl>}
</span></span></code></pre></div><p>在定义版本号的时候，有如下的匹配方式：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>1.1.1        精确下载安装1.1.1版本的包
</span></span><span class=line><span class=cl>&gt;,=1.1.1     大于、小于等于、大于等于1.1.1版本的包
</span></span><span class=line><span class=cl>1.0.1-1.1.1  版本范围是包含1.0.1到1.1.1版本的包
</span></span><span class=line><span class=cl>~1.1.1       尽量采用靠近1.1.1版本的包，可用版本1.1.1-0到1.1.x-x
</span></span><span class=line><span class=cl>~1.1         下载安装1.1.x-x版本的包
</span></span><span class=line><span class=cl>~1           下载安装1.x.x-x版本的包
</span></span></code></pre></div><a class=anchor id=其它></a><h2>其它 <a href=#%e5%85%b6%e5%ae%83 aria-hidden=true>#</a></h2><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>$ npm ls --depth 0         当前项目的依赖模块
</span></span><span class=line><span class=cl>$ npm ls -g --depth 0      全局模块
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>----- 可以通过如下方式分别安装。
</span></span><span class=line><span class=cl>$ npm install --production
</span></span><span class=line><span class=cl>$ npm install --dev
</span></span></code></pre></div></div></div><div class="sidebar col-xl-3 mt-2"><div id=toc class=position-fixed><nav id=TableOfContents><ul><li><a href=#npm>NPM</a><ul><li><a href=#安装配置>安装配置</a></li></ul></li><li><a href=#packagejson>package.json</a><ul><li><a href=#其它>其它</a></li></ul></li></ul></nav></div></div></div></div><footer class="footer text-muted"><div class=container-xxl><div class=row><div class=text-center>Built by GoHalo, generated with <a class=text-muted href=https://gohugo.io>Hugo</a>, and hosted on GitHub Pages</div></div><div class=row><div class=text-center>Copyright © 2013-2025 GoHalo. All Rights Reserved.</div></div></div></footer><script src=https://gohalo.github.io/bootstrap/js/bootstrap.bundle.min.js></script>
<script src=/main.b9cbcb174709877512d64e24f297f66a40c8d91c9a81128cb04bdd7b10247df8.js integrity="sha256-ucvLF0cJh3US1k4k8pf2akDI2RyagRKMsEvdexAkffg=" crossorigin=anonymous></script>
<a href=# class="btn btn-light btn-lg backtop" title=返回顶部><i class="fa fa-angle-double-up" aria-hidden=true></i></a></body></html>